<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detection and Correction of Photosensitive Epilepsy Triggers in Videos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Dark Theme Variables */
            --bg-gradient-dark: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            --bg-primary-dark: rgba(30, 30, 50, 0.95);
            --bg-secondary-dark: rgba(30, 30, 50, 0.8);
            --bg-card-dark: rgba(0, 0, 0, 0.4);
            --text-primary-dark: #e0e0e0;
            --text-secondary-dark: #b0b0b0;
            --accent-primary: rgb(228, 120, 90);
            --accent-secondary: rgb(100, 149, 237);
            --accent-tertiary: rgb(126, 87, 194);
            --accent-quaternary: rgb(100, 149, 237);
            --accent-quinary: rgb(100, 149, 237);
            
            /* Light Theme Variables */
            --bg-gradient-light: linear-gradient(135deg, #f8f9ff 0%, #e6ebf5 50%, #d4e2f0 100%);
            --bg-primary-light: rgba(255, 255, 255, 0.95);
            --bg-secondary-light: rgba(255, 255, 255, 0.9);
            --bg-card-light: rgba(255, 255, 255, 0.7);
            --text-primary-light: #2c3e50;
            --text-secondary-light: #5a6c7d;
            --border-light: rgba(52, 73, 94, 0.2);
            --shadow-light: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-gradient-dark);
            color: var(--text-primary-dark);
            line-height: 1.6;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* Light Theme Styles */
        body.light-theme {
            background: var(--bg-gradient-light);
            color: var(--text-primary-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: var(--bg-primary-dark);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid rgba(228, 120, 90, 0.3);
            transition: all 0.3s ease;
        }

        body.light-theme .header {
            background: var(--bg-primary-light);
            border-bottom: 2px solid var(--border-light);
            box-shadow: 0 2px 10px var(--shadow-light);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-primary);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links a {
            color: var(--text-primary-dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        body.light-theme .nav-links a {
            color: var(--text-primary-light);
        }

        .nav-links a:hover {
            color: var(--accent-primary);
        }

        /* GitHub Link */
        .github-link {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(45deg, #333, #24292e);
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .github-link:hover {
            background: linear-gradient(45deg, #24292e, #1a1e22);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-primary);
            color: white;
        }

        .github-icon {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        body.light-theme .github-link {
            background: linear-gradient(45deg, #24292e, #333);
            border: 2px solid rgba(36, 41, 46, 0.1);
        }

        body.light-theme .github-link:hover {
            background: linear-gradient(45deg, #1a1e22, #24292e);
            border-color: var(--accent-primary);
        }

        /* Theme Toggle */
        .theme-toggle {
            background: var(--accent-primary);
            border: none;
            border-radius: 25px;
            padding: 8px 16px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .theme-toggle:hover {
            background: rgba(228, 120, 90, 0.8);
            transform: scale(1.05);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            z-index: 2;
            max-width: 800px;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: var(--accent-primary);
        }

        .hero .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary-dark);
            margin-bottom: 30px;
        }

        body.light-theme .hero .subtitle {
            color: var(--text-secondary-light);
        }

        .university {
            font-size: 1.1rem;
            color: var(--accent-primary);
            font-weight: 600;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="grad" cx="50%" cy="50%"><stop offset="0%" style="stop-color:rgba(255,107,107,0.1)"/><stop offset="100%" style="stop-color:transparent"/></radialGradient></defs><circle cx="200" cy="200" r="150" fill="url(%23grad)" opacity="0.6"><animate attributeName="cx" values="200;800;200" dur="20s" repeatCount="indefinite"/></circle><circle cx="800" cy="600" r="100" fill="url(%23grad)" opacity="0.4"><animate attributeName="cy" values="600;200;600" dur="15s" repeatCount="indefinite"/></circle></svg>') no-repeat center center;
            background-size: cover;
            opacity: 0.3;
        }

        /* Section Styles */
        .section {
            padding: 80px 0;
            position: relative;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: var(--accent-primary);
        }

        .section-content {
            max-width: 900px;
            margin: 0 auto;
            font-size: 1.1rem;
            text-align: justify;
        }

        /* Abstract Section */
        .abstract {
            background: var(--bg-secondary-dark);
            border-radius: 15px;
            padding: 40px;
            border: 2px solid rgba(228, 120, 90, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .abstract {
            background: var(--bg-secondary-light);
            border: 2px solid var(--border-light);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        /* Pipeline Section */
        .pipeline-container {
            background: var(--bg-secondary-dark);
            border-radius: 15px;
            padding: 40px;
            border: 2px solid rgba(100, 149, 237, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .pipeline-container {
            background: var(--bg-secondary-light);
            border: 2px solid rgba(100, 149, 237, 0.5);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        .pipeline-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .pipeline-step {
            background: var(--bg-card-dark);
            border-radius: 10px;
            padding: 25px;
            border: 2px solid rgba(100, 149, 237, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
        }

        body.light-theme .pipeline-step {
            background: var(--bg-card-light);
            border: 2px solid rgba(100, 149, 237, 0.5);
        }

        .pipeline-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(100, 149, 237, 0.2);
        }

        body.light-theme .pipeline-step:hover {
            box-shadow: 0 10px 30px rgba(100, 149, 237, 0.3);
        }

        .step-number {
            background: linear-gradient(45deg, var(--accent-secondary), rgba(100, 149, 237, 0.8));
            color: #fff;
            font-weight: bold;
            font-size: 1.2rem;
            padding: 10px 15px;
            border-radius: 50%;
            margin-bottom: 15px;
            display: inline-block;
            min-width: 40px;
            text-align: center;
        }

        .step-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--accent-secondary);
            margin-bottom: 10px;
        }

        /* Model Architecture Section */
        .model-arch {
            background: var(--bg-secondary-dark);
            border-radius: 15px;
            padding: 40px;
            border: 2px solid rgba(126, 87, 194, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .model-arch {
            background: var(--bg-secondary-light);
            border: 2px solid rgba(126, 87, 194, 0.5);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        .arch-highlight {
            background: linear-gradient(45deg, rgba(126, 87, 194, 0.1), rgba(126, 87, 194, 0.15));
            border: 1px solid rgba(126, 87, 194, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        body.light-theme .arch-highlight {
            background: linear-gradient(45deg, rgba(126, 87, 194, 0.2), rgba(126, 87, 194, 0.25));
            border: 1px solid rgba(126, 87, 194, 0.5);
        }

        /* Demo Section */
        .demo-container {
            background: var(--bg-secondary-dark);
            border-radius: 15px;
            padding: 40px;
            border: 2px solid rgba(100, 149, 237, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .demo-container {
            background: var(--bg-secondary-light);
            border: 2px solid rgba(100, 149, 237, 0.5);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        /* YouTube Demo Video */
        .youtube-demo {
            text-align: center;
            margin-bottom: 50px;
        }

        .youtube-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(100, 149, 237, 0.3);
        }

        .youtube-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
        }

        .youtube-placeholder {
            width: 100%;
            max-width: 800px;
            height: 450px;
            margin: 0 auto;
            background: var(--bg-card-dark);
            border: 3px dashed rgba(100, 149, 237, 0.5);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--accent-quaternary);
            font-size: 1.2rem;
            text-align: center;
        }

        body.light-theme .youtube-placeholder {
            background: var(--bg-card-light);
            border: 3px dashed rgba(100, 149, 237, 0.7);
        }

        .youtube-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        /* Video Comparison Carousel */
        .comparison-section {
            margin-top: 40px;
        }

        .comparison-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .comparison-title {
            font-size: 1.8rem;
            color: var(--accent-quaternary);
            margin-bottom: 10px;
        }

        .comparison-subtitle {
            color: var(--text-secondary-dark);
            font-size: 1.1rem;
        }

        body.light-theme .comparison-subtitle {
            color: var(--text-secondary-light);
        }

        .video-carousel-container {
            position: relative;
            max-width: 100%;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 15px;
        }

        .video-carousel {
            display: flex;
            transition: transform 0.4s ease-in-out;
            gap: 20px;
        }

        .video-pair {
            min-width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 0 10px;
        }

        .video-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            background: var(--bg-card-dark);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        body.light-theme .video-item {
            background: var(--bg-card-light);
            box-shadow: 0 5px 15px var(--shadow-light);
        }

        .video-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(100, 149, 237, 0.3);
        }

        .video-label {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            z-index: 10;
        }

        .video-original {
            background: rgba(228, 120, 90, 0.9) !important;
        }

        .video-corrected {
            background: rgba(100, 149, 237, 0.9) !important;
        }

        .video-element {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            border-radius: 8px;
        }

        /* Video controls on hover */
        .video-item:hover .video-element {
            filter: brightness(1.1);
        }

        /* Custom video controls overlay */
        .video-controls {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 5px;
            padding: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-item:hover .video-controls {
            opacity: 1;
        }

        .video-play-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
        }

        .video-placeholder-item {
            width: 100%;
            height: 250px;
            background: var(--bg-card-dark);
            border: 2px dashed rgba(100, 149, 237, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-quaternary);
            font-size: 1rem;
            text-align: center;
            border-radius: 8px;
        }

        body.light-theme .video-placeholder-item {
            background: var(--bg-card-light);
            border: 2px dashed rgba(100, 149, 237, 0.5);
        }

        /* Carousel Controls */
        .carousel-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
        }

        .carousel-btn {
            background: var(--accent-quaternary);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-btn:hover {
            background: rgba(168, 85, 126, 0.8);
            transform: scale(1.1);
        }

        .carousel-btn:disabled {
            background: rgba(168, 85, 126, 0.3);
            cursor: not-allowed;
            transform: none;
        }

        .carousel-indicators {
            display: flex;
            gap: 10px;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(168, 85, 126, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: var(--accent-quaternary);
            transform: scale(1.2);
        }

        .carousel-info {
            text-align: center;
            color: var(--text-secondary-dark);
            font-size: 0.9rem;
            margin-top: 15px;
        }

        body.light-theme .carousel-info {
            color: var(--text-secondary-light);
        }

        /* Features List */
        .correction-features {
            margin-top: 30px;
            padding: 20px;
            background: var(--bg-card-dark);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        body.light-theme .correction-features {
            background: var(--bg-card-light);
        }

        .features-title {
            color: var(--accent-quaternary);
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .features-list {
            list-style-type: none;
            padding-left: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .features-list li {
            padding: 5px 0;
            border-left: 3px solid var(--accent-quaternary);
            padding-left: 15px;
            transition: all 0.3s ease;
        }

        .features-list li:hover {
            background: rgba(100, 149, 237, 0.1);
            border-radius: 5px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .video-pair {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .carousel-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .features-list {
                grid-template-columns: 1fr;
            }
            
            .youtube-container {
                padding-bottom: 75%; /* More square for mobile */
            }
        }

        /* Authors Section */
        .authors-container {
            background: var(--bg-secondary-dark);
            border-radius: 15px;
            padding: 40px;
            border: 2px solid rgba(100, 149, 237, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .authors-container {
            background: var(--bg-secondary-light);
            border: 2px solid rgba(100, 149, 237, 0.5);
            box-shadow: 0 8px 32px var(--shadow-light);
        }

        .authors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .author-card {
            background: var(--bg-card-dark);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            border: 2px solid rgba(100, 149, 237, 0.3);
            transition: all 0.3s ease;
        }

        body.light-theme .author-card {
            background: var(--bg-card-light);
            border: 2px solid rgba(100, 149, 237, 0.5);
        }

        .author-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-quinary);
            margin-bottom: 5px;
        }

        .author-role {
            color: var(--text-secondary-dark);
        }

        body.light-theme .author-role {
            color: var(--text-secondary-light);
        }

        /* Footer */
        .footer {
            background: rgba(20, 20, 30, 0.95);
            padding: 40px 0;
            text-align: center;
            border-top: 2px solid rgba(228, 120, 90, 0.3);
            transition: all 0.3s ease;
        }

        body.light-theme .footer {
            background: rgba(255, 255, 255, 0.95);
            border-top: 2px solid var(--border-light);
            color: var(--text-primary-light);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero .subtitle {
                font-size: 1.1rem;
            }

            .nav-links {
                display: none;
            }

            .nav-container {
                justify-content: space-between;
            }

            .nav-left {
                gap: 20px;
            }

            .nav-right {
                gap: 15px;
            }

            .github-link {
                padding: 6px 12px;
                font-size: 0.8rem;
            }

            .github-link .github-text {
                display: none;
            }

            .video-comparison {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 60px 0;
            }

            .theme-toggle {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
        }.1rem;
            }

            .nav-links {
                display: none;
            }

            .video-comparison {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 60px 0;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.8s ease-out;
        }

        /* Statistics Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: var(--bg-card-dark);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid rgba(228, 120, 90, 0.3);
            transition: all 0.3s ease;
        }

        body.light-theme .stat-card {
            background: var(--bg-card-light);
            border: 2px solid rgba(228, 120, 90, 0.5);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent-primary);
        }

        .stat-label {
            color: var(--text-secondary-dark);
            margin-top: 5px;
        }

        body.light-theme .stat-label {
            color: var(--text-secondary-light);
        }
    </style>
</head>
    <body class="light-theme">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav-container">
                <div class="nav-left">
                    <div class="logo">PSE Detection</div>
                    <ul class="nav-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#abstract">Abstract</a></li>
                        <li><a href="#pipeline">Pipeline</a></li>
                        <li><a href="#model">Model</a></li>
                        <li><a href="#demo">Demo</a></li>
                        <li><a href="#authors">Authors</a></li>
                        <li><a href="#poster">Poster</a></li>
                    </ul>
                </div>
                <div class="nav-right">
                    <a href="https://github.com/your-username/pse-detection" class="github-link" target="_blank" rel="noopener noreferrer">
                        <svg class="github-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        <span class="github-text">GitHub</span>
                    </a>
                    <button class="theme-toggle" onclick="toggleTheme()">
                        <span id="theme-icon">🌙</span>
                        <span id="theme-text">Dark</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content fade-in">
            <h1>Detection and Correction of Photosensitive Epilepsy Triggers in Videos</h1>
            <p class="subtitle">A system for identifying and mitigating epileptic seizure triggers in video content</p>
            <p class="university">Hacettepe University - Computer Engineering Department</p>
        </div>
    </section>

    <!-- Abstract Section -->
    <section id="abstract" class="section">
        <div class="container">
            <h2 class="section-title">Abstract</h2>
            <div class="abstract fade-in">
                <div class="section-content">
                    <p>Photosensitive epilepsy is a type of epilepsy where epileptic seizures are triggered by flashing lights, transitions involving saturated red and sudden changes in brightness on symmetrical patterns such as lines and concentric circles. This condition affects one in 4,000 people, representing 5% of those with epilepsy.</p>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-number">1/4000</div>
                            <div class="stat-label">People Affected</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">5%</div>
                            <div class="stat-label">Of Epilepsy Cases</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">600+</div>
                            <div class="stat-label">Children Affected in Pokémon Incident</div>
                        </div>
                    </div>
                    
                    <p>In today's digital age, the number of screens people encounter in their daily lives is rapidly increasing, accordingly increasing the amount of video content exposure. This situation puts people with photosensitive epilepsy at risk of having seizures during their daily activities. The most common symptoms of an epileptic seizure include losing consciousness, decreased perception, and confusion after the seizure, making individuals vulnerable to physical harm during episodes.</p>
                    
                    <p>Our project addresses this critical issue by developing an intelligent algorithm that first detects epileptic triggers in video content and then applies sophisticated corrections to eliminate these triggers while preserving the viewer's experience. Unlike simple solutions that blur or black out triggering content (causing significant context loss), our system employs advanced image processing techniques and deep learning models to maintain video quality and narrative continuity.</p>
                    
                    <p>The system processes videos through a comprehensive pipeline that includes trigger-free content validation using PEAT (Photosensitive Epilepsy Analysis Tool), artificial trigger injection for training purposes, CNN-based feature extraction with transformer encoders for temporal analysis, and sophisticated correction algorithms that apply adaptive filtering techniques to eliminate dangerous patterns while preserving visual fidelity.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pipeline Section -->
    <section id="pipeline" class="section">
        <div class="container">
            <h2 class="section-title">Processing Pipeline</h2>
            <div class="pipeline-container fade-in">
                <div class="section-content">
                    <p>Our comprehensive pipeline ensures accurate detection and effective correction of photosensitive epilepsy triggers through multiple interconnected stages:</p>
                </div>
                
                <div class="pipeline-steps">
                    <div class="pipeline-step">
                        <div class="step-number">1</div>
                        <div class="step-title">Trigger-Free Videos</div>
                        <p>Collection of original content validated as trigger-free using PEAT as ground truth. These videos serve as the baseline for our training dataset.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">2</div>
                        <div class="step-title">Adding Triggers</div>
                        <p>Artificial triggering content is systematically added including Random Red/White flashes, K-Means based flashes, Red/Blue swapping, and Extreme White flashes.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">3</div>
                        <div class="step-title">Triggering Videos</div>
                        <p>Generated videos containing photosensitive epilepsy triggers serve as positive examples for training our detection model.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">4</div>
                        <div class="step-title">Classifier</div>
                        <p>CNN-based feature extraction combined with transformer encoders for temporal sequence analysis. The model processes 30-frame windows with 15-frame stride.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">5</div>
                        <div class="step-title">Labeled Sequences</div>
                        <p>Binary classification results indicating trigger presence in ½ second intervals, providing precise temporal localization of problematic content.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">6</div>
                        <div class="step-title">Correction</div>
                        <p>Advanced image processing techniques eliminate triggers using adaptive filtering, temporal smoothing, and intelligent overlay systems while preserving content quality.</p>
                    </div>
                    
                    <div class="pipeline-step">
                        <div class="step-number">7</div>
                        <div class="step-title">Safe Videos</div>
                        <p>Output videos are validated using PEAT to ensure complete trigger elimination while maintaining visual quality and narrative coherence.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Model Architecture Section -->
    <section id="model" class="section">
        <div class="container">
            <h2 class="section-title">Model Architecture</h2>
            <div class="model-arch fade-in">
                <div class="section-content">
                    <p>Our detection model employs a sophisticated hybrid architecture combining convolutional neural networks with transformer encoders for comprehensive video analysis:</p>
                    
                    <div class="arch-highlight">
                        <h3 style="color: #ffce54; margin-bottom: 15px;">🎬 Video Processing Pipeline</h3>
                        <p><strong>Input:</strong> Video frames extracted in 30-frame sliding windows with 15-frame stride (50% overlap)</p>
                        <p><strong>Preprocessing:</strong> BGR→RGB conversion, resize to 224×224, ImageNet normalization</p>
                        <p><strong>Batch Processing:</strong> Frames reshaped to (B×30, 3, 224, 224) for efficient processing</p>
                    </div>
                    
                    <div class="arch-highlight">
                        <h3 style="color: #ffce54; margin-bottom: 15px;">🧠 Feature Extraction</h3>
                        <p><strong>Backbone:</strong> EfficientNet-B0 (ImageNet pretrained) extracts 1280-dimensional features</p>
                        <p><strong>Projection:</strong> Linear layer projects features to 1024 dimensions for transformer compatibility</p>
                        <p><strong>Positional Encoding:</strong> Learnable embeddings provide temporal frame order information</p>
                    </div>
                    
                    <div class="arch-highlight">
                        <h3 style="color: #ffce54; margin-bottom: 15px;">🔄 Temporal Modeling</h3>
                        <p><strong>Transformer Layers:</strong> 3 encoder layers with 4-head attention (FFN hidden: 4096)</p>
                        <p><strong>Self-Attention:</strong> Captures complex temporal dependencies across 30-frame sequences</p>
                        <p><strong>Global Pooling:</strong> Sequence features aggregated via mean pooling across temporal dimension</p>
                    </div>
                    
                    <div class="arch-highlight">
                        <h3 style="color: #ffce54; margin-bottom: 15px;">🎯 Classification</h3>
                        <p><strong>MLP Head:</strong> Three-layer network (1024→256→64→1) with ReLU activation and dropout</p>
                        <p><strong>Output:</strong> Binary prediction with confidence score for trigger presence detection</p>
                        <p><strong>Training:</strong> Binary cross-entropy loss with Adam optimizer</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section id="demo" class="section">
        <div class="container">
            <h2 class="section-title">Demonstration</h2>
            <div class="demo-container fade-in">
                
                <!-- YouTube Demo Video -->
                <div class="youtube-demo">
                    <h3 style="color: var(--accent-quaternary); margin-bottom: 20px; font-size: 1.6rem;">🎥 Project Demo Video</h3>
                    <p style="margin-bottom: 30px;">Watch our comprehensive demonstration of the photosensitive epilepsy detection and correction system in action.</p>
                    
                    <!-- YouTube Video Placeholder - Replace with actual YouTube embed -->
                    <div class="youtube-placeholder">
                        <div class="youtube-icon">📺</div>
                        <div>
                            <strong>YouTube Demo Video</strong><br>
                            <span style="font-size: 1rem; opacity: 0.8;">Replace this with your YouTube embed code</span>
                        </div>
                    </div>
                    
                    <!-- Uncomment and replace with your YouTube video ID -->
                    <!--
                    <div class="youtube-container">
                        <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID" 
                                title="Photosensitive Epilepsy Detection Demo" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                        </iframe>
                    </div>
                    -->
                </div>

                <!-- Video Comparison Carousel -->
                <div class="comparison-section">
                    <div class="comparison-header">
                        <h3 class="comparison-title">📹 Before & After Comparisons</h3>
                        <p class="comparison-subtitle">Experience the effectiveness of our correction algorithm through side-by-side video comparisons</p>
                    </div>
                    
                    <div class="video-carousel-container">
                        <div class="video-carousel" id="videoCarousel">
                            
                            <!-- Video Pair 1 -->
                            <div class="video-pair">
                                <div class="video-item">
                                    <div class="video-label video-original">Original (With Triggers)</div>
                                    <!-- Replace placeholder with actual video -->
                                    <div class="video-placeholder-item">
                                        Video 1 - Original<br>
                                        <small>Replace with: &lt;video class="video-element" loop muted autoplay&gt;</small>
                                    </div>
                                    <!-- Example video element (uncomment and add your video path):
                                    <video class="video-element" loop muted autoplay>
                                        <source src="videos/original_1.mp4" type="video/mp4">
                                        <source src="videos/original_1.webm" type="video/webm">
                                        Your browser does not support the video tag.
                                    </video>
                                    <div class="video-controls">
                                        <button class="video-play-btn" onclick="toggleVideo(this)">⏸️</button>
                                    </div>
                                    -->
                                </div>
                                <div class="video-item">
                                    <div class="video-label video-corrected">Corrected (Safe)</div>
                                    <div class="video-placeholder-item">
                                        Video 1 - Corrected<br>
                                        <small>Replace with: &lt;video class="video-element" loop muted autoplay&gt;</small>
                                    </div>
                                    <!-- Example video element (uncomment and add your video path):
                                    <video class="video-element" loop muted autoplay>
                                        <source src="videos/corrected_1.mp4" type="video/mp4">
                                        <source src="videos/corrected_1.webm" type="video/webm">
                                        Your browser does not support the video tag.
                                    </video>
                                    <div class="video-controls">
                                        <button class="video-play-btn" onclick="toggleVideo(this)">⏸️</button>
                                    </div>
                                    -->
                                </div>
                            </div>

                            <!-- Video Pair 2 -->
                            <div class="video-pair">
                                <div class="video-item">
                                    <div class="video-label video-original">Original (With Triggers)</div>
                                    <div class="video-placeholder-item">
                                        Video 2 - Original<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                                <div class="video-item">
                                    <div class="video-label video-corrected">Corrected (Safe)</div>
                                    <div class="video-placeholder-item">
                                        Video 2 - Corrected<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Video Pair 3 -->
                            <div class="video-pair">
                                <div class="video-item">
                                    <div class="video-label video-original">Original (With Triggers)</div>
                                    <div class="video-placeholder-item">
                                        Video 3 - Original<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                                <div class="video-item">
                                    <div class="video-label video-corrected">Corrected (Safe)</div>
                                    <div class="video-placeholder-item">
                                        Video 3 - Corrected<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Video Pair 4 -->
                            <div class="video-pair">
                                <div class="video-item">
                                    <div class="video-label video-original">Original (With Triggers)</div>
                                    <div class="video-placeholder-item">
                                        Video 4 - Original<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                                <div class="video-item">
                                    <div class="video-label video-corrected">Corrected (Safe)</div>
                                    <div class="video-placeholder-item">
                                        Video 4 - Corrected<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Video Pair 5 -->
                            <div class="video-pair">
                                <div class="video-item">
                                    <div class="video-label video-original">Original (With Triggers)</div>
                                    <div class="video-placeholder-item">
                                        Video 5 - Original<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                                <div class="video-item">
                                    <div class="video-label video-corrected">Corrected (Safe)</div>
                                    <div class="video-placeholder-item">
                                        Video 5 - Corrected<br>
                                        <small>Replace with actual video</small>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Carousel Controls -->
                    <div class="carousel-controls">
                        <button class="carousel-btn" id="prevBtn" onclick="changeSlide(-1)">‹</button>
                        
                        <div class="carousel-indicators" id="carouselIndicators">
                            <span class="carousel-dot active" onclick="currentSlide(1)"></span>
                            <span class="carousel-dot" onclick="currentSlide(2)"></span>
                            <span class="carousel-dot" onclick="currentSlide(3)"></span>
                            <span class="carousel-dot" onclick="currentSlide(4)"></span>
                            <span class="carousel-dot" onclick="currentSlide(5)"></span>
                        </div>
                        
                        <button class="carousel-btn" id="nextBtn" onclick="changeSlide(1)">›</button>
                    </div>

                    <div class="carousel-info">
                        <span id="slideInfo">Comparison 1 of 5</span>
                    </div>
                </div>

                <!-- Correction Features -->
                <div class="correction-features">
                    <h4 class="features-title">🛡️ Advanced Correction Features</h4>
                    <ul class="features-list">
                        <li>✅ Adaptive overlay opacity based on content brightness</li>
                        <li>✅ Advanced flickering detection and temporal smoothing</li>
                        <li>✅ Intelligent color intensity reduction for red/blue channels</li>
                        <li>✅ Context-preserving corrections without content loss</li>
                        <li>✅ Deep learning-based trigger detection with transformer architecture</li>
                        <li>✅ PEAT validation for safety assurance</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Poster Section -->
    <section id="poster" class="section">
        <div class="container">
            <h2 class="section-title">Project Poster</h2>
            <div class="poster-container fade-in">
                <div class="section-content">
                    <p>Our comprehensive project poster summarizes the methodology, results, and key findings of the photosensitive epilepsy detection and correction system. Click on the poster to view it in full resolution.</p>
                </div>
                
                <!-- Project Poster -->
                <img src="poster.png" 
                     alt="Detection and Correction of Photosensitive Epilepsy Triggers in Videos - Project Poster" 
                     class="poster-image" 
                     onclick="openPosterModal()">
                
                <!-- Fallback if poster.png is not found -->
                <div class="poster-placeholder" style="display: none;" id="posterFallback">
                    <div class="poster-icon">📋</div>
                    <div>
                        <strong>Project Poster</strong><br>
                        <span style="font-size: 1rem; opacity: 0.8;">poster.png not found<br>
                        Please add poster.png to the same directory as this HTML file</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Poster Modal -->
    <div id="posterModal" class="poster-modal" onclick="closePosterModal()">
        <span class="poster-close">&times;</span>
        <img class="poster-modal-content" id="modalPosterImage" alt="Project Poster - Full Resolution">
    </div>

    <!-- Authors Section -->
    <section id="authors" class="section">
        <div class="container">
            <h2 class="section-title">Project Team</h2>
            <div class="authors-container fade-in">
                <div class="authors-grid">
                    <div class="author-card">
                        <div class="author-name">Berra Nur Öztürk</div>
                        <div class="author-role">Computer Engineering Student</div>
                    </div>
                    
                    <div class="author-card">
                        <div class="author-name">Kaan Eren</div>
                        <div class="author-role">Computer Engineering Student</div>
                    </div>
                    
                    <div class="author-card">
                        <div class="author-name">Assoc. Prof. Dr. Aydın Kaya</div>
                        <div class="author-role">Project Advisor</div>
                    </div>
                    
                    <div class="author-card">
                        <div class="author-name">R.A. Görkem Akyıldız</div>
                        <div class="author-role">Vice Project Advisor</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 40px; padding: 30px; background: var(--bg-card-dark); border-radius: 15px; transition: all 0.3s ease;">
                    <h3 style="color: var(--accent-quinary); margin-bottom: 15px;">Acknowledgments</h3>
                    <p>This project was developed as part of the Computer Engineering graduation project at Hacettepe University. We acknowledge the importance of accessibility in digital media and hope this work contributes to making video content safer for individuals with photosensitive epilepsy.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Hacettepe University Computer Engineering Department. All rights reserved.</p>
            <p style="margin-top: 10px; color: var(--text-secondary-dark);">Detection and Correction of Photosensitive Epilepsy Triggers in Videos</p>
        </div>
    </footer>

    <script>
        // Theme Toggle Functionality
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            body.classList.toggle('light-theme');
            
            if (body.classList.contains('light-theme')) {
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
                localStorage.setItem('theme', 'light');
            } else {
                themeIcon.textContent = '🌙';
                themeText.textContent = 'Dark';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
                themeIcon.textContent = '☀️';
                themeText.textContent = 'Light';
            }
        });
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Dynamic background animation
        function createFloatingElements() {
            const hero = document.querySelector('.hero');
            for (let i = 0; i < 5; i++) {
                const element = document.createElement('div');
                element.style.position = 'absolute';
                element.style.width = Math.random() * 100 + 50 + 'px';
                element.style.height = element.style.width;
                element.style.background = `radial-gradient(circle, rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.1), transparent)`;
                element.style.borderRadius = '50%';
                element.style.left = Math.random() * 100 + '%';
                element.style.top = Math.random() * 100 + '%';
                element.style.animation = `float ${Math.random() * 10 + 10}s infinite linear`;
                hero.appendChild(element);
            }
        }

        // Add floating animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes float {
                0% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
                50% { transform: translateY(-20px) rotate(180deg); opacity: 0.1; }
                100% { transform: translateY(0px) rotate(360deg); opacity: 0.3; }
            }
        `;
        document.head.appendChild(style);

        // Initialize floating elements
        createFloatingElements();

        // Poster Modal Functions
        function openPosterModal() {
            const modal = document.getElementById('posterModal');
            const modalImg = document.getElementById('modalPosterImage');
            const posterImg = document.querySelector('.poster-image');
            
            if (posterImg && !posterImg.style.display === 'none') {
                modal.style.display = 'block';
                modalImg.src = posterImg.src;
                modalImg.alt = posterImg.alt;
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            } else {
                // If poster image failed to load
                alert('Poster image (poster.png) could not be loaded. Please ensure poster.png is in the same directory as this HTML file.');
            }
        }

        function closePosterModal() {
            const modal = document.getElementById('posterModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Handle poster image load error
        document.addEventListener('DOMContentLoaded', function() {
            const posterImg = document.querySelector('.poster-image');
            const posterFallback = document.getElementById('posterFallback');
            
            if (posterImg) {
                posterImg.addEventListener('error', function() {
                    console.log('Poster image failed to load');
                    posterImg.style.display = 'none';
                    posterFallback.style.display = 'flex';
                });
                
                posterImg.addEventListener('load', function() {
                    console.log('Poster image loaded successfully');
                });
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closePosterModal();
            }
        });

        // Prevent modal from closing when clicking on the image
        document.getElementById('modalPosterImage').addEventListener('click', function(event) {
            event.stopPropagation();
        });

        // Video Carousel Functionality
        let currentSlideIndex = 0;
        const totalSlides = 5;

        function changeSlide(direction) {
            const carousel = document.getElementById('videoCarousel');
            const indicators = document.querySelectorAll('.carousel-dot');
            const slideInfo = document.getElementById('slideInfo');
            
            // Update slide index
            currentSlideIndex += direction;
            
            // Handle wraparound
            if (currentSlideIndex >= totalSlides) {
                currentSlideIndex = 0;
            } else if (currentSlideIndex < 0) {
                currentSlideIndex = totalSlides - 1;
            }
            
            // Update carousel position
            const translateX = -currentSlideIndex * 100;
            carousel.style.transform = `translateX(${translateX}%)`;
            
            // Update indicators
            indicators.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlideIndex);
            });
            
            // Update slide info
            slideInfo.textContent = `Comparison ${currentSlideIndex + 1} of ${totalSlides}`;
            
            // Update button states
            updateCarouselButtons();
        }

        function currentSlide(slideNumber) {
            const direction = slideNumber - 1 - currentSlideIndex;
            changeSlide(direction);
        }

        function updateCarouselButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Optional: Disable buttons at the edges (remove if you want infinite loop)
            // prevBtn.disabled = currentSlideIndex === 0;
            // nextBtn.disabled = currentSlideIndex === totalSlides - 1;
        }

        // Auto-play carousel (optional)
        function startAutoPlay() {
            setInterval(() => {
                changeSlide(1);
            }, 8000); // Change slide every 8 seconds
        }

        // Initialize carousel
        document.addEventListener('DOMContentLoaded', function() {
            updateCarouselButtons();
            // Uncomment to enable auto-play
            // startAutoPlay();
        });

        // Keyboard navigation for carousel
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (event.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        // Video control functions
        function toggleVideo(button) {
            const videoItem = button.closest('.video-item');
            const video = videoItem.querySelector('.video-element');
            
            if (video.paused) {
                video.play();
                button.textContent = '⏸️';
            } else {
                video.pause();
                button.textContent = '▶️';
            }
        }

        // Enhanced video synchronization system
        class VideoSynchronizer {
            constructor() {
                this.videoPairs = [];
                this.syncThreshold = 0.1; // 100ms tolerance
                this.checkInterval = 100; // Check every 100ms
            }

            initializePairs() {
                const pairs = document.querySelectorAll('.video-pair');
                pairs.forEach((pair, index) => {
                    const videos = pair.querySelectorAll('.video-element');
                    if (videos.length === 2) {
                        const [original, corrected] = videos;
                        this.setupVideoSync(original, corrected, index);
                    }
                });
            }

            setupVideoSync(video1, video2, pairIndex) {
                const syncData = {
                    video1,
                    video2,
                    pairIndex,
                    isReady: false,
                    syncInterval: null
                };

                // Wait for both videos to be ready
                this.waitForVideosReady(syncData);
                
                this.videoPairs[pairIndex] = syncData;
            }

            waitForVideosReady(syncData) {
                const { video1, video2 } = syncData;
                
                const checkReady = () => {
                    if (video1.readyState >= 3 && video2.readyState >= 3) { // HAVE_FUTURE_DATA
                        syncData.isReady = true;
                        this.startSync(syncData);
                        console.log(`Video pair ${syncData.pairIndex} ready for sync`);
                    } else {
                        setTimeout(checkReady, 100);
                    }
                };
                
                // Force load videos
                video1.load();
                video2.load();
                
                checkReady();
            }

            startSync(syncData) {
                const { video1, video2, pairIndex } = syncData;

                // Sync play/pause events
                video1.addEventListener('play', () => this.syncPlay(video1, video2));
                video1.addEventListener('pause', () => this.syncPause(video1, video2));
                video2.addEventListener('play', () => this.syncPlay(video2, video1));
                video2.addEventListener('pause', () => this.syncPause(video2, video1));

                // Sync seeking
                video1.addEventListener('seeked', () => this.syncTime(video1, video2));
                video2.addEventListener('seeked', () => this.syncTime(video2, video1));

                // Start continuous time sync
                syncData.syncInterval = setInterval(() => {
                    this.continuousTimeSync(video1, video2);
                }, this.checkInterval);

                // Handle loop restart
                video1.addEventListener('ended', () => this.handleLoop(video1, video2));
                video2.addEventListener('ended', () => this.handleLoop(video2, video1));

                console.log(`Sync started for video pair ${pairIndex}`);
            }

            syncPlay(sourceVideo, targetVideo) {
                if (targetVideo.paused && !sourceVideo.paused) {
                    targetVideo.currentTime = sourceVideo.currentTime;
                    targetVideo.play().catch(e => console.log('Play sync failed:', e));
                }
            }

            syncPause(sourceVideo, targetVideo) {
                if (!targetVideo.paused && sourceVideo.paused) {
                    targetVideo.pause();
                }
            }

            syncTime(sourceVideo, targetVideo) {
                const timeDiff = Math.abs(sourceVideo.currentTime - targetVideo.currentTime);
                if (timeDiff > this.syncThreshold) {
                    targetVideo.currentTime = sourceVideo.currentTime;
                }
            }

            continuousTimeSync(video1, video2) {
                if (!video1.paused && !video2.paused) {
                    const timeDiff = Math.abs(video1.currentTime - video2.currentTime);
                    
                    if (timeDiff > this.syncThreshold) {
                        // Sync to the video that's further ahead (usually more stable)
                        if (video1.currentTime > video2.currentTime) {
                            video2.currentTime = video1.currentTime;
                        } else {
                            video1.currentTime = video2.currentTime;
                        }
                    }
                }
            }

            handleLoop(sourceVideo, targetVideo) {
                // Ensure both videos restart together
                setTimeout(() => {
                    if (sourceVideo.currentTime === 0) {
                        targetVideo.currentTime = 0;
                        if (!sourceVideo.paused) {
                            targetVideo.play().catch(e => console.log('Loop play failed:', e));
                        }
                    }
                }, 50);
            }

            pauseAllVideos() {
                this.videoPairs.forEach(syncData => {
                    if (syncData && syncData.isReady) {
                        syncData.video1.pause();
                        syncData.video2.pause();
                        
                        // Update control buttons
                        const buttons1 = syncData.video1.parentElement.querySelectorAll('.video-play-btn');
                        const buttons2 = syncData.video2.parentElement.querySelectorAll('.video-play-btn');
                        buttons1.forEach(btn => btn.textContent = '▶️');
                        buttons2.forEach(btn => btn.textContent = '▶️');
                    }
                });
            }

            restartAllVideos() {
                this.videoPairs.forEach(syncData => {
                    if (syncData && syncData.isReady) {
                        syncData.video1.currentTime = 0;
                        syncData.video2.currentTime = 0;
                        syncData.video1.play().catch(e => console.log('Restart failed:', e));
                        syncData.video2.play().catch(e => console.log('Restart failed:', e));
                    }
                });
            }
        }

        // Initialize video synchronizer
        const videoSync = new VideoSynchronizer();

        // Enhanced carousel functions with video sync
        function changeSlide(direction) {
            const carousel = document.getElementById('videoCarousel');
            const indicators = document.querySelectorAll('.carousel-dot');
            const slideInfo = document.getElementById('slideInfo');
            
            // Pause all videos before changing
            videoSync.pauseAllVideos();
            
            // Update slide index
            currentSlideIndex += direction;
            
            // Handle wraparound
            if (currentSlideIndex >= totalSlides) {
                currentSlideIndex = 0;
            } else if (currentSlideIndex < 0) {
                currentSlideIndex = totalSlides - 1;
            }
            
            // Update carousel position
            const translateX = -currentSlideIndex * 100;
            carousel.style.transform = `translateX(${translateX}%)`;
            
            // Update indicators
            indicators.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlideIndex);
            });
            
            // Update slide info
            slideInfo.textContent = `Comparison ${currentSlideIndex + 1} of ${totalSlides}`;
            
            // Update button states
            updateCarouselButtons();

            // Auto-start videos on current slide after a short delay
            setTimeout(() => {
                const currentPair = videoSync.videoPairs[currentSlideIndex];
                if (currentPair && currentPair.isReady) {
                    currentPair.video1.currentTime = 0;
                    currentPair.video2.currentTime = 0;
                    currentPair.video1.play().catch(e => console.log('Auto-play failed:', e));
                    currentPair.video2.play().catch(e => console.log('Auto-play failed:', e));
                }
            }, 300);
        }

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            updateCarouselButtons();
            
            // Initialize video synchronization after a delay to ensure all videos are loaded
            setTimeout(() => {
                videoSync.initializePairs();
            }, 1000);
            
            // Add global video control shortcuts
            document.addEventListener('keydown', function(event) {
                if (event.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (event.key === 'ArrowRight') {
                    changeSlide(1);
                } else if (event.key === ' ') { // Spacebar to toggle play/pause
                    event.preventDefault();
                    const currentPair = videoSync.videoPairs[currentSlideIndex];
                    if (currentPair && currentPair.isReady) {
                        if (currentPair.video1.paused) {
                            currentPair.video1.play();
                            currentPair.video2.play();
                        } else {
                            currentPair.video1.pause();
                            currentPair.video2.pause();
                        }
                    }
                } else if (event.key === 'r' || event.key === 'R') { // R to restart
                    const currentPair = videoSync.videoPairs[currentSlideIndex];
                    if (currentPair && currentPair.isReady) {
                        currentPair.video1.currentTime = 0;
                        currentPair.video2.currentTime = 0;
                    }
                }
            });
        });
    </script>
</body>
</html>